name: vqa-env
channels:
  - pytorch
  - nvidia
  - conda-forge
  - defaults
dependencies:
  - python=3.10
  - pip
  
  # Core PyTorch (Fijamos versiones compatibles)
  - pytorch=2.2.2
  - torchvision=0.17.2
  - pytorch-cuda=12.1
  
  # Data Science
  - pandas
  - matplotlib
  - seaborn
  - scikit-learn
  - tqdm
  - pyyaml
  
  # Dependencias PIP (Aquí estaba el problema)
  - pip:
      # FIX CRÍTICO: Numpy debe ser menor a 2.0 para PyTorch 2.x
      - "numpy<2.0"
      
      # Transformers Stack
      - transformers>=4.41.0
      # FIX CRÍTICO: Accelerate 0.30.1 es estable con PyTorch 2.2.2
      - accelerate==0.30.1  
      - datasets
      
      # LoRA & Quantization
      - peft
      - bitsandbytes
      
      # Imaging
      - pillow
      - opencv-python
      
      # Metrics & Utils
      - evaluate
      - sacrebleu
      - rouge_score
      - bert_score
      - nltk
      - wandb
      - rich
      - python-dotenv