name: vqa-env
channels:
  - pytorch
  - nvidia
  - conda-forge
  - defaults
dependencies:
  - python=3.10
  # ANCLAJE 1: Numpy estricto desde Conda
  - numpy=1.26.4
  - pip
  
  # ANCLAJE 2: Core PyTorch + Vision alineados
  - pytorch=2.2.2
  - torchvision=0.17.2
  - pytorch-cuda=12.1
  
  # Data Science Standard
  - pandas
  - matplotlib
  - seaborn
  - scikit-learn
  - tqdm
  - pyyaml
  
  - pip:
      # ANCLAJE 3: Prohibir a Pip actualizar Numpy
      - "numpy<2.0"
      
      # Hugging Face Stack
      - huggingface-hub>=0.23.0
      - transformers>=4.41.0
      - tokenizers>=0.19.1
      # ANCLAJE 4: Versi√≥n compatible con Torch 2.2
      - accelerate==0.30.1  
      - datasets
      
      # ANCLAJE 5: Versiones estables para LLaVA y Quantization
      - peft==0.11.1
      - bitsandbytes==0.43.1
      # TOKENIZADORES (VITAL PARA LLAMA/SIGLIP)
      - sentencepiece
      - protobuf
      # Utils & Metrics
      - pillow
      - opencv-python
      - evaluate
      - sacrebleu
      - rouge_score
      - bert_score
      - nltk
      - wandb
      - rich
      - python-dotenv